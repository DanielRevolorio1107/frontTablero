<h3>Gestión de Imágenes</h3>

<div class="toolbar">
  <input class="input" [ngModel]="q()" (ngModelChange)="q.set($event)" placeholder="Buscar por URL">
</div>

<div class="card form">
  <div class="row">
    <input class="input"
           [ngModel]="formUrl()"
           (ngModelChange)="formUrl.set($event)"
           placeholder="URL de la imagen">
    <button class="btn primary" (click)="guardar()">Agregar</button>
  </div>
</div>

<div *ngIf="cargando()" class="hint">Cargando…</div>
<div *ngIf="error()" class="error">{{ error() }}</div>

<table class="table" *ngIf="!cargando() && filtradas().length">
  <thead>
    <tr>
      <th style="width:80px;">ID</th>
      <th>URL</th>
      <th style="width:150px;">Vista previa</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let i of filtradas()">
      <td>{{ i.id_Imagen }}</td>
      <td>{{ i.url }}</td>
      <td><img [src]="i.url" alt="img" class="thumb"></td>
    </tr>
  </tbody>
</table>

<div *ngIf="!cargando() && !filtradas().length" class="hint">
  No hay imágenes para mostrar.
</div>
