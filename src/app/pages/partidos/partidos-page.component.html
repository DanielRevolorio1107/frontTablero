<!-- ========== PARTIDOS ========== -->
<section class="panel">
  <header class="panel__header">
    <h2 class="panel__title">Partidos</h2>
  </header>

  <div class="toolbar toolbar--wrap">
    <div class="field">
      <label class="label">Fecha y hora</label>
      <input class="input" type="datetime-local" [(ngModel)]="fechaHoraLocal" />
    </div>

    <div class="field">
      <label class="label">Localidad</label>
      <select class="input" [(ngModel)]="partLocalidadId">
        <option [ngValue]="null">Seleccionar</option>
        <option *ngFor="let l of localidades()" [ngValue]="l.id_Localidad">
          {{ l.nombre }}
        </option>
      </select>
    </div>

    <div class="field">
      <label class="label">Equipo Local</label>
      <select class="input" [(ngModel)]="partLocalId">
        <option [ngValue]="null">Seleccionar</option>
        <option *ngFor="let e of equipos()" [ngValue]="e.id_Equipo">
          {{ e.nombre }}
        </option>
      </select>
    </div>

    <div class="field">
      <label class="label">Equipo Visitante</label>
      <select class="input" [(ngModel)]="partVisitId">
        <option [ngValue]="null">Seleccionar</option>
        <ng-container *ngFor="let e of equipos()">
          <option *ngIf="e.id_Equipo !== partLocalId" [ngValue]="e.id_Equipo">
            {{ e.nombre }}
          </option>
        </ng-container>
      </select>
    </div>

    <div class="field">
      <label class="label">&nbsp;</label>
      <button
        class="btn"
        (click)="crearPartido()"
        [disabled]="
          !fechaHoraLocal || !partLocalidadId || !partLocalId || !partVisitId ||
          partLocalId === partVisitId
        "
      >
        Crear
      </button>
    </div>
  </div>

  <small class="form-hint error"
         *ngIf="partLocalId && partVisitId && partLocalId === partVisitId">
    El equipo local y visitante no pueden ser el mismo.
  </small>

  <div class="list-scroll">
    <ul class="list">
      <li class="row-item" *ngFor="let p of partidos()">
        <span class="mono">#{{ p.id_Partido }}</span>
        <span class="name">{{ p.fechaHora }}</span>
        <span class="muted">Localidad: {{ p.id_Localidad }}</span>
        <span class="muted">|</span>
        <span class="muted">{{ p.id_Local }} vs {{ p.id_Visitante }}</span>
      </li>
    </ul>
  </div>
</section>
