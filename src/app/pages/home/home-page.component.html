<section class="board">
  <div class="team">
    <h2>Local</h2>
    <div class="score">{{ scoreLocal() }}</div>
    <div class="btns">
      <button (click)="addLocal(1)">+1</button>
      <button (click)="addLocal(2)">+2</button>
      <button (click)="addLocal(3)">+3</button>
      <button (click)="addLocal(-1)" [disabled]="scoreLocal()<=0">-1</button>
    </div>
    <div class="fouls">Faltas: {{ foulsLocal() }}</div>
    <div class="btns">
      <button (click)="foulsLocal.set(foulsLocal()+1)">+ Falta</button>
      <button (click)="foulsLocal.set(Math.max(0,foulsLocal()-1))" [disabled]="foulsLocal()<=0">- Falta</button>
    </div>
  </div>

  <div class="center">
    <div class="quarter">Cuarto: {{ quarter() }}/4</div>
    <div class="timer">{{ mmSS(timerSeconds()) }}</div>
    <div class="timer-btns">
      <button (click)="start()" [disabled]="running()">Iniciar</button>
      <button (click)="pause()" [disabled]="!running()">Pausar</button>
      <button (click)="reset()">Reiniciar</button>
      <button (click)="nextQuarter()">Siguiente cuarto</button>
    </div>
  </div>

  <div class="team">
    <h2>Visitante</h2>
    <div class="score">{{ scoreVisit() }}</div>
    <div class="btns">
      <button (click)="addVisit(1)">+1</button>
      <button (click)="addVisit(2)">+2</button>
      <button (click)="addVisit(3)">+3</button>
      <button (click)="addVisit(-1)" [disabled]="scoreVisit()<=0">-1</button>
    </div>
    <div class="fouls">Faltas: {{ foulsVisit() }}</div>
    <div class="btns">
      <button (click)="foulsVisit.set(foulsVisit()+1)">+ Falta</button>
      <button (click)="foulsVisit.set(Math.max(0,foulsVisit()-1))" [disabled]="foulsVisit()<=0">- Falta</button>
    </div>
  </div>
</section>

<section class="wrap">
  <h3>Datos para guardar en BD</h3>
  <div class="row">
    <input placeholder="Localidad" [(ngModel)]="locNombre"/>
    <input placeholder="Equipo Local" [(ngModel)]="equipoLocalNombre"/>
    <input placeholder="Equipo Visitante" [(ngModel)]="equipoVisitNombre"/>
    <input type="datetime-local" [(ngModel)]="fechaHoraLocal" />
  </div>

  <div class="quarters">
    <div class="q" *ngFor="let q of [1,2,3,4]">
      <h4>Q{{q}}</h4>
      <label>Puntos:
        <input type="number" [(ngModel)]="cuartos[q-1].total_Punteo" />
      </label>
      <label>Faltas:
        <input type="number" [(ngModel)]="cuartos[q-1].total_Faltas" />
      </label>
      <label>Due√±o:
        <select [(ngModel)]="cuartos[q-1].duenio">
          <option value="l">Local</option>
          <option value="v">Visitante</option>
        </select>
      </label>
    </div>
  </div>

  <div class="row">
    <button (click)="finalizarGuardar()">Finalizar y guardar</button>
  </div>

  <p *ngIf="msg" class="msg">{{ msg }}</p>
</section>

<footer class="controls">
  <button (click)="hardReset()">Reiniciar partido</button>
</footer>
